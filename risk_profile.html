<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Investor Risk Profile — Steady Growth</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Unified CSS -->
  <link rel="stylesheet" href="risk_profile.css" />

  <style>
    /* Keep the fade-in animation inline for reliability */
    .section-page { display: none; opacity: 0; transform: translateY(8px); }
    .section-page.active { display: block; opacity: 1; transform: translateY(0); transition: all 260ms ease; }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(8px); }
      to   { opacity:1; transform:translateY(0); }
    }
  </style>
</head>

<body>

  <!-- Fixed progress bar -->
  <div id="progressBarContainer">
    <div id="progressBarFill"></div>
  </div>

  <div class="wrap">
    <div class="card" id="mainCard">

      

      <!-- ========== SECTION 1 — OBJECTIVE & MOTIVATION ========== -->
      <div class="section-page active" data-page="1">
        <h2 class="page-title">1. Investment Objective & Motivation</h2>
        <p class="page-sub">Why you invest and what you expect from your money.</p>

        <!-- Q1 -->
        <div class="question q-box" data-qid="q1">
          <div class="q-title">Primary purpose of investing</div>
          <div class="q-desc">Choose the option that best reflects your main intention.</div>
          <div class="options">
            <div class="option" data-score="1">Preserve capital with low risk</div>
            <div class="option" data-score="2">Earn moderate returns with stability</div>
            <div class="option" data-score="3">Balance growth & safety</div>
            <div class="option" data-score="4">Long-term wealth creation with higher growth</div>
            <div class="option" data-score="5">Maximise returns aggressively</div>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question q-box" data-qid="q2">
          <div class="q-title">Which statement best matches your investing mindset?</div>
          <div class="options">
            <div class="option" data-score="1">I cannot tolerate loss; capital protection matters most</div>
            <div class="option" data-score="2">I want stability but some growth</div>
            <div class="option" data-score="3">I’m okay with moderate growth and moderate risk</div>
            <div class="option" data-score="4">I want strong growth even if returns fluctuate</div>
            <div class="option" data-score="5">I’m willing to take high risks for superior growth</div>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question q-box" data-qid="q3">
          <div class="q-title">What kind of returns would satisfy you over the long term?</div>
          <div class="options">
            <div class="option" data-score="1">4–6% per year (FD-like)</div>
            <div class="option" data-score="2">6–9% per year</div>
            <div class="option" data-score="3">9–12% per year</div>
            <div class="option" data-score="4">12–15% per year</div>
            <div class="option" data-score="5">15%+ per year</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 2 — RETURN EXPECTATION & GROWTH ORIENTATION ========== -->
      <div class="section-page" data-page="2">
        <h2 class="page-title">2. Return Expectation & Growth Orientation</h2>
        <p class="page-sub">Your balance between stability and long-term growth.</p>

        <!-- Q4 -->
        <div class="question q-box" data-qid="q4">
          <div class="q-title">What matters more to you?</div>
          <div class="options">
            <div class="option" data-score="1">Stability with minimal fluctuation</div>
            <div class="option" data-score="2">Low fluctuation but decent returns</div>
            <div class="option" data-score="3">Balanced returns and risk</div>
            <div class="option" data-score="4">Higher returns even if temporary dips occur</div>
            <div class="option" data-score="5">Maximum long-term growth</div>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question q-box" data-qid="q5">
          <div class="q-title">Would you choose a fund with higher volatility if long-term return potential is high?</div>
          <div class="options">
            <div class="option" data-score="1">Definitely not</div>
            <div class="option" data-score="2">Probably not</div>
            <div class="option" data-score="3">Not sure / depends</div>
            <div class="option" data-score="4">Likely yes</div>
            <div class="option" data-score="5">Definitely yes</div>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question q-box" data-qid="q6">
          <div class="q-title">What do you believe about equity markets?</div>
          <div class="options">
            <div class="option" data-score="1">Too risky, should be avoided</div>
            <div class="option" data-score="2">Useful but only for limited exposure</div>
            <div class="option" data-score="3">Suitable for long-term wealth creation</div>
            <div class="option" data-score="4">Essential for growth if goal is long term</div>
            <div class="option" data-score="5">Best route to fast wealth creation</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 3 — RISK TOLERANCE (PSYCHOLOGICAL COMFORT) ========== -->
      <div class="section-page" data-page="3">
        <h2 class="page-title">3. Risk Tolerance & Comfort with Volatility</h2>
        <p class="page-sub">How you feel and behave when markets move.</p>

        <!-- Q7 -->
        <div class="question q-box" data-qid="q7">
          <div class="q-title">If your portfolio drops 10% in a month, how do you feel?</div>
          <div class="options">
            <div class="option" data-score="1">Extremely stressed, want to exit</div>
            <div class="option" data-score="2">Uncomfortable but may reduce allocation</div>
            <div class="option" data-score="3">Neutral — I understand volatility happens</div>
            <div class="option" data-score="4">Comfortable — I will continue investing</div>
            <div class="option" data-score="5">Excited to invest more at lower prices</div>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question q-box" data-qid="q8">
          <div class="q-title">If a fund underperforms for 1–2 years, what will you do?</div>
          <div class="options">
            <div class="option" data-score="1">Exit quickly</div>
            <div class="option" data-score="2">Consider shifting to safer funds</div>
            <div class="option" data-score="3">Review and hold for some time</div>
            <div class="option" data-score="4">Continue SIP as planned</div>
            <div class="option" data-score="5">Increase exposure if long-term thesis is intact</div>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question q-box" data-qid="q9">
          <div class="q-title">How often do you check your portfolio?</div>
          <div class="options">
            <div class="option" data-score="1">Daily</div>
            <div class="option" data-score="2">Weekly</div>
            <div class="option" data-score="3">Monthly</div>
            <div class="option" data-score="4">Quarterly</div>
            <div class="option" data-score="5">Yearly / rarely</div>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question q-box" data-qid="q10">
          <div class="q-title">How would you describe your personality financially?</div>
          <div class="options">
            <div class="option" data-score="1">Very cautious</div>
            <div class="option" data-score="2">Cautious</div>
            <div class="option" data-score="3">Balanced</div>
            <div class="option" data-score="4">Opportunistic</div>
            <div class="option" data-score="5">High-risk taker</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 4 — LOSS BEHAVIOUR & REACTIONS ========== -->
      <div class="section-page" data-page="4">
        <h2 class="page-title">4. Loss Behaviour & Market Reactions</h2>
        <p class="page-sub">How you respond when others panic or markets move sharply.</p>

        <!-- Q11 -->
        <div class="question q-box" data-qid="q11">
          <div class="q-title">If markets fall 25%, what is most likely?</div>
          <div class="options">
            <div class="option" data-score="1">Stop SIP and withdraw investments</div>
            <div class="option" data-score="2">Pause and wait without investing more</div>
            <div class="option" data-score="3">Continue normally</div>
            <div class="option" data-score="4">Continue and invest more gradually</div>
            <div class="option" data-score="5">Invest aggressively to take advantage of lower prices</div>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question q-box" data-qid="q12">
          <div class="q-title">Have you ever panicked & exited an investment at a loss?</div>
          <div class="options">
            <div class="option" data-score="1">Yes, multiple times</div>
            <div class="option" data-score="2">Yes, once</div>
            <div class="option" data-score="3">Maybe / not sure</div>
            <div class="option" data-score="4">No, rarely</div>
            <div class="option" data-score="5">Never</div>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question q-box" data-qid="q13">
          <div class="q-title">When seeing others gain more in markets, do you feel pressure to chase returns?</div>
          <div class="options">
            <div class="option" data-score="1">Very strongly</div>
            <div class="option" data-score="2">Somewhat</div>
            <div class="option" data-score="3">A little</div>
            <div class="option" data-score="4">Rarely</div>
            <div class="option" data-score="5">Not at all</div>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question q-box" data-qid="q14">
          <div class="q-title">If a new trending fund rises sharply, what do you do?</div>
          <div class="options">
            <div class="option" data-score="1">Want to switch immediately</div>
            <div class="option" data-score="2">Consider switching partially</div>
            <div class="option" data-score="3">Analyse but usually stay with plan</div>
            <div class="option" data-score="4">Continue my plan confidently</div>
            <div class="option" data-score="5">I prefer entering after corrections, not at peaks</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 5 — RISK CAPACITY (FINANCIAL ABILITY) ========== -->
      <div class="section-page" data-page="5">
        <h2 class="page-title">5. Risk Capacity & Financial Cushion</h2>
        <p class="page-sub">Your ability to handle risk based on income and buffers.</p>

        <!-- Q15 -->
        <div class="question q-box" data-qid="q15">
          <div class="q-title">How stable is your income?</div>
          <div class="options">
            <div class="option" data-score="1">Very unstable</div>
            <div class="option" data-score="2">Somewhat unstable</div>
            <div class="option" data-score="3">Moderately stable</div>
            <div class="option" data-score="4">Stable</div>
            <div class="option" data-score="5">Very stable and predictable</div>
          </div>
        </div>

        <!-- Q16 -->
        <div class="question q-box" data-qid="q16">
          <div class="q-title">Do you have emergency savings?</div>
          <div class="options">
            <div class="option" data-score="1">No savings</div>
            <div class="option" data-score="2">Less than 1 month of expenses</div>
            <div class="option" data-score="3">1–3 months of expenses</div>
            <div class="option" data-score="4">3–6 months of expenses</div>
            <div class="option" data-score="5">More than 6 months of expenses</div>
          </div>
        </div>

        <!-- Q17 -->
        <div class="question q-box" data-qid="q17">
          <div class="q-title">If you lose your income temporarily, how long can you continue SIP comfortably?</div>
          <div class="options">
            <div class="option" data-score="1">Less than 1 month</div>
            <div class="option" data-score="2">1–3 months</div>
            <div class="option" data-score="3">3–6 months</div>
            <div class="option" data-score="4">6–12 months</div>
            <div class="option" data-score="5">More than 12 months</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 6 — LIQUIDITY NEEDS & TIME HORIZON ========== -->
      <div class="section-page" data-page="6">
        <h2 class="page-title">6. Liquidity Needs & Time Horizon</h2>
        <p class="page-sub">How long you can stay invested and how urgently you need funds.</p>

        <!-- Q18 -->
        <div class="question q-box" data-qid="q18">
          <div class="q-title">How soon do you expect to need this invested money?</div>
          <div class="options">
            <div class="option" data-score="1">Within 1 year</div>
            <div class="option" data-score="2">1–3 years</div>
            <div class="option" data-score="3">3–5 years</div>
            <div class="option" data-score="4">5–10 years</div>
            <div class="option" data-score="5">More than 10 years</div>
          </div>
        </div>

        <!-- Q19 -->
        <div class="question q-box" data-qid="q19">
          <div class="q-title">If your goal maturity comes during a market crash, what will you do?</div>
          <div class="options">
            <div class="option" data-score="1">Withdraw everything immediately</div>
            <div class="option" data-score="2">Redeem gradually even if values are low</div>
            <div class="option" data-score="3">Decide based on advice at that time</div>
            <div class="option" data-score="4">Likely continue until markets recover</div>
            <div class="option" data-score="5">Definitely continue and withdraw when valuations improve</div>
          </div>
        </div>

        <!-- Q20 -->
        <div class="question q-box" data-qid="q20">
          <div class="q-title">How long are you comfortable staying invested to achieve your major goals?</div>
          <div class="options">
            <div class="option" data-score="1">Short-term (less than 3 years)</div>
            <div class="option" data-score="2">Medium term (3–5 years)</div>
            <div class="option" data-score="3">5–7 years</div>
            <div class="option" data-score="4">10+ years</div>
            <div class="option" data-score="5">As long as required for long-term wealth creation</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn" onclick="goBack()">Back</button>
          <button class="btn btn-primary next-btn" id="finishBtn" style="display:none;">Finish</button>
        </div>
      </div>

      <!-- ========== SECTION 7 — SUMMARY & LEAD CAPTURE (updated) ========== -->
      <div class="section-page" data-page="7">
        <h1 class="page-title">Your Investor Profile</h1>
        <p class="page-sub">Enter your details to reveal your personalised investor profile.</p>

        <div class="summary-box">

          <!-- Lead form -->
          <form id="leadForm" class="lead-form" novalidate>
            <div class="field-group">
              <label for="leadName">Full Name*</label>
              <input type="text" id="leadName" name="client_name" required placeholder="Your full name" />
            </div>

            <div class="field-group">
              <label for="leadPhone">Mobile Number*</label>
              <input type="tel" id="leadPhone" name="mobile" required placeholder="10-digit mobile number" />
            </div>

            <div class="field-group">
              <label for="leadEmail">Email (optional)</label>
              <input type="email" id="leadEmail" name="email" placeholder="you@example.com" />
            </div>

            <button type="submit" class="btn btn-primary" id="leadSubmitBtn" style="margin-top:10px; width:100%;">
              Submit & View Profile
            </button>

            <div id="leadStatus" class="lead-status"></div>
          </form>

          <!-- Hidden profile result -->
          <div id="profileResult" class="result-card" aria-hidden="true">
            <div class="result-top">
              <div>
                <div class="badge-gold" id="profileBadge">Investor Profile</div>
                <h3 class="profile-head" id="profileLabel">—</h3>
                <div class="profile-tag" id="profileTagline"></div>
              </div>

              <div class="profile-score">
                <span class="num" id="profileScoreNum">0</span>
                <span class="lbl">Total score</span>
              </div>
            </div>

            <p id="profileDetail" class="small-muted"></p>

            <!-- Allocation -->
            <div style="margin-top:14px;">
              <div class="alloc-row">
                <div class="alloc-label">Equity</div>
                <div class="alloc-bar"><div id="equityFill" class="alloc-fill"></div></div>
                <div id="equityPct" class="alloc-num">0%</div>
              </div>

              <div class="alloc-row">
                <div class="alloc-label">Debt / Hybrid</div>
                <div class="alloc-bar"><div id="debtFill" class="alloc-fill"></div></div>
                <div id="debtPct" class="alloc-num">0%</div>
              </div>

              <div class="alloc-row">
                <div class="alloc-label">Cash / Liquid</div>
                <div class="alloc-bar"><div id="cashFill" class="alloc-fill"></div></div>
                <div id="cashPct" class="alloc-num">0%</div>
              </div>
            </div>
            
            <!-- ⭐ NEW MESSAGE ADDED HERE ⭐ -->
            <p id="contactMessage" class="small-muted" style="margin-top:18px; font-size:14px; line-height:1.5;">
              Our representative will contact you to help you find the exact fund or combination of funds 
              that best match your financial behaviour and risk appetite.
            </p>
            <!-- ⭐ END NEW MESSAGE ⭐ -->
            
            <div class="profile-actions">
              <button id="backToWebsiteBtn" class="btn-outline">Back to Website</button>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>



  
<script>
/* -----------------------------------------------------------
   RISK PROFILE — FULLY CORRECTED JAVASCRIPT
   (Guaranteed Google Sheet submission: client_name fixed)
----------------------------------------------------------- */

/* Page handling */
const pages = document.querySelectorAll(".section-page");
const totalPages = pages.length;
let current = 1;

/* Load stored answers */
let rp = JSON.parse(localStorage.getItem("rp") || "{}");

/* Switch pages */
function showPage(n) {
  pages.forEach(p => p.classList.remove("active"));
  document.querySelector(`.section-page[data-page="${n}"]`).classList.add("active");
  current = n;
  updateProgressBar();
  window.scrollTo({ top: 0, behavior: "smooth" });
}

/* Progress bar */
function updateProgressBar() {
  const pct = ((current - 1) / (totalPages - 1)) * 100;
  document.getElementById("progressBarFill").style.width = pct + "%";
}

/* Start */
document.addEventListener("DOMContentLoaded", () => showPage(1));

/* Next & Back buttons */
document.querySelectorAll(".next-btn").forEach(btn =>
  btn.addEventListener("click", () => showPage(current + 1))
);
document.querySelectorAll(".prev-btn").forEach(btn =>
  btn.addEventListener("click", () => showPage(current - 1))
);

/* -----------------------------------------------------------
   QUESTION SELECTION
----------------------------------------------------------- */
document.querySelectorAll(".question").forEach(q => {
  const qid = q.dataset.qid;
  const options = q.querySelectorAll(".option");

  if (rp[qid]) {
    options.forEach(o => {
      if (+o.dataset.score === rp[qid]) o.classList.add("selected");
    });
  }

  options.forEach(opt =>
    opt.addEventListener("click", () => {
      options.forEach(o => o.classList.remove("selected"));
      opt.classList.add("selected");

      rp[qid] = +opt.dataset.score;
      localStorage.setItem("rp", JSON.stringify(rp));

      updateNextVisibility();
    })
  );
});

/* Show "Next" when all answers in section filled */
function updateNextVisibility() {
  const section = document.querySelector(`.section-page[data-page="${current}"]`);
  const questions = section.querySelectorAll(".question");

  let allDone = true;
  questions.forEach(q => {
    if (!rp[q.dataset.qid]) allDone = false;
  });

  const next = section.querySelector(".next-btn");
  if (next) next.style.display = allDone ? "inline-block" : "none";
}

document.getElementById("finishBtn").addEventListener("click", () => {
  showPage(7);
});

/* -----------------------------------------------------------
   SUMMARY FORM SUBMIT → GOOGLE SHEETS
----------------------------------------------------------- */
document.getElementById("leadForm").addEventListener("submit", (ev) => {
  ev.preventDefault();

  const form = document.getElementById("leadForm");

  const name = document.getElementById("leadName").value.trim();
  let phone = document.getElementById("leadPhone").value.trim().replace(/\D/g, "");
  const email = document.getElementById("leadEmail").value.trim();
  const status = document.getElementById("leadStatus");

  /* Name & mobile validation */
  if (!name) {
    status.textContent = "Please enter your name.";
    status.className = "lead-status err";
    return;
  }

  if (!phone) {
    status.textContent = "Please enter your mobile number.";
    status.className = "lead-status err";
    return;
  }

  /* Allow 0XXXXXXXXX → convert to 10-digit */
  if (phone.length === 11 && phone.startsWith("0")) {
    phone = phone.substring(1);
  }

  if (phone.length !== 10) {
    status.textContent = "Please enter a valid 10-digit mobile number.";
    status.className = "lead-status err";
    return;
  }

  /* ---------------------------------------------------------
     CALCULATE SCORE
  --------------------------------------------------------- */
  let totalScore = 0;
  const allQuestions = document.querySelectorAll(".question");
  const maxPossible = allQuestions.length * 5;

  allQuestions.forEach(q => {
    totalScore += (rp[q.dataset.qid] || 0);
  });

  const pct = Math.round((totalScore / maxPossible) * 100);

  let label, tagline, equity, debt, cash;

  if (pct <= 40) {
    label = "Conservative";
    tagline = "Capital preservation with low volatility.";
    equity = 20; debt = 55; cash = 25;

  } else if (pct <= 70) {
    label = "Moderate";
    tagline = "Balanced approach with steady growth.";
    equity = 50; debt = 35; cash = 15;

  } else {
    label = "Aggressive";
    tagline = "High-growth strategy with higher equity.";
    equity = 75; debt = 20; cash = 5;
  }

  /* Update UI */
  document.getElementById("profileLabel").textContent = label;
  document.getElementById("profileTagline").textContent = tagline;
  document.getElementById("profileScoreNum").textContent = totalScore;
  document.getElementById("profileDetail").textContent =
    `Your risk score is ${pct}%. This reflects your financial behaviour and comfort with market movements.`;

  document.getElementById("equityPct").textContent = equity + "%";
  document.getElementById("debtPct").textContent = debt + "%";
  document.getElementById("cashPct").textContent = cash + "%";

  document.getElementById("equityFill").style.width = equity + "%";
  document.getElementById("debtFill").style.width = debt + "%";
  document.getElementById("cashFill").style.width = cash + "%";

  document.getElementById("profileResult").style.display = "block";

  status.textContent = "Thank you! Your personalised investor profile is ready below.";
  status.className = "lead-status ok";

  /* ---------------------------------------------------------
     SEND TO GOOGLE SHEET (FINAL FIX)
--------------------------------------------------------- */
  const GSHEET_ENDPOINT =
    "https://script.google.com/macros/s/AKfycbzfPKyf6reazDCBL8Ql8wqU73KerPyi7cjdHI1BKXULBERuG1MAElH058KPEmAvOIu87g/exec";

  // FORM-DATA CREATED FROM FORM (ensures client_name is included)
  const fd = new FormData(form);

  fd.set("formType", "risk_profile");      // ensure correct form type
  fd.set("client_name", name);              // overwrite to ensure inclusion
  fd.set("mobile", phone);
  fd.set("email", email);

  fd.append("answers_json", JSON.stringify({
    answers: rp,
    total_score: totalScore,
    pct_score: pct,
    label,
    allocation: { equity, debt, cash }
  }));

  fetch(GSHEET_ENDPOINT, { method: "POST", body: fd })
    .then(r => r.json())
    .then(res => console.log("Sheet response:", res))
    .catch(err => console.error("Submission error:", err));

  document.getElementById("profileResult")
    .scrollIntoView({ behavior: "smooth", block: "center" });

});

/* Back button */
document.getElementById("backToWebsiteBtn")
  .addEventListener("click", () => {
    localStorage.removeItem("rp");
    window.location.href =
      "https://steadygrowth-wealth.github.io/steady-growth-website/";
  });

function goBack() {
  window.location.href = "risk_first_page.html";
}
</script>


</body>
</html>
