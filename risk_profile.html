<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Investor Risk Profile — Steady Growth</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- New unified CSS -->
  <link rel="stylesheet" href="risk_profile.css" />

  <style>
    /* Small overrides kept inline for the result card transitions (compatible with CSS file) */
    .section-page { display: none; animation: fadeIn 240ms ease forwards; }
    .section-page.active { display:block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity:1; transform: translateY(0); } }
  </style>
</head>
<body>

  <!-- fixed thin progress bar (readiness style) -->
  <div id="progressBarContainer">
    <div id="progressBarFill"></div>
  </div>

  <div class="wrap">
    <div class="card" id="mainCard">

      

      <!-- ========== SECTION 1 — OBJECTIVE & MOTIVATION ========== -->
      <div class="section-page active" data-page="1">
        <h2 class="page-title">1. Investment Objective & Motivation</h2>
        <p class="page-sub">Why you invest and what you expect from your money.</p>

        <!-- Q1 -->
        <div class="question q-box" data-qid="q1">
          <div class="q-title">Primary purpose of investing</div>
          <div class="q-desc">Choose the option that best reflects your main intention.</div>
          <div class="options">
            <div class="option" data-score="1">Preserve capital with low risk</div>
            <div class="option" data-score="2">Earn moderate returns with stability</div>
            <div class="option" data-score="3">Balance growth & safety</div>
            <div class="option" data-score="4">Long-term wealth creation with higher growth</div>
            <div class="option" data-score="5">Maximise returns aggressively</div>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question q-box" data-qid="q2">
          <div class="q-title">Which statement best matches your investing mindset?</div>
          <div class="options">
            <div class="option" data-score="1">I cannot tolerate loss; capital protection matters most</div>
            <div class="option" data-score="2">I want stability but some growth</div>
            <div class="option" data-score="3">I’m okay with moderate growth and moderate risk</div>
            <div class="option" data-score="4">I want strong growth even if returns fluctuate</div>
            <div class="option" data-score="5">I’m willing to take high risks for superior growth</div>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question q-box" data-qid="q3">
          <div class="q-title">What kind of returns would satisfy you over the long term?</div>
          <div class="options">
            <div class="option" data-score="1">4–6% per year (FD-like)</div>
            <div class="option" data-score="2">6–9% per year</div>
            <div class="option" data-score="3">9–12% per year</div>
            <div class="option" data-score="4">12–15% per year</div>
            <div class="option" data-score="5">15%+ per year</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost" prev-btn>Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 2 — RETURN EXPECTATION & GROWTH ORIENTATION ========== -->
      <div class="section-page" data-page="2">
        <h2 class="page-title">2. Return Expectation & Growth Orientation</h2>
        <p class="page-sub">Your balance between stability and long-term growth.</p>

        <!-- Q4 -->
        <div class="question q-box" data-qid="q4">
          <div class="q-title">What matters more to you?</div>
          <div class="options">
            <div class="option" data-score="1">Stability with minimal fluctuation</div>
            <div class="option" data-score="2">Low fluctuation but decent returns</div>
            <div class="option" data-score="3">Balanced returns and risk</div>
            <div class="option" data-score="4">Higher returns even if temporary dips occur</div>
            <div class="option" data-score="5">Maximum long-term growth</div>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question q-box" data-qid="q5">
          <div class="q-title">Would you choose a fund with higher volatility if long-term return potential is high?</div>
          <div class="options">
            <div class="option" data-score="1">Definitely not</div>
            <div class="option" data-score="2">Probably not</div>
            <div class="option" data-score="3">Not sure / depends</div>
            <div class="option" data-score="4">Likely yes</div>
            <div class="option" data-score="5">Definitely yes</div>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question q-box" data-qid="q6">
          <div class="q-title">What do you believe about equity markets?</div>
          <div class="options">
            <div class="option" data-score="1">Too risky, should be avoided</div>
            <div class="option" data-score="2">Useful but only for limited exposure</div>
            <div class="option" data-score="3">Suitable for long-term wealth creation</div>
            <div class="option" data-score="4">Essential for growth if goal is long term</div>
            <div class="option" data-score="5">Best route to fast wealth creation</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 3 — RISK TOLERANCE (PSYCHOLOGICAL COMFORT) ========== -->
      <div class="section-page" data-page="3">
        <h2 class="page-title">3. Risk Tolerance & Comfort with Volatility</h2>
        <p class="page-sub">How you feel and behave when markets move.</p>

        <!-- Q7 -->
        <div class="question q-box" data-qid="q7">
          <div class="q-title">If your portfolio drops 10% in a month, how do you feel?</div>
          <div class="options">
            <div class="option" data-score="1">Extremely stressed, want to exit</div>
            <div class="option" data-score="2">Uncomfortable but may reduce allocation</div>
            <div class="option" data-score="3">Neutral — I understand volatility happens</div>
            <div class="option" data-score="4">Comfortable — I will continue investing</div>
            <div class="option" data-score="5">Excited to invest more at lower prices</div>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question q-box" data-qid="q8">
          <div class="q-title">If a fund underperforms for 1–2 years, what will you do?</div>
          <div class="options">
            <div class="option" data-score="1">Exit quickly</div>
            <div class="option" data-score="2">Consider shifting to safer funds</div>
            <div class="option" data-score="3">Review and hold for some time</div>
            <div class="option" data-score="4">Continue SIP as planned</div>
            <div class="option" data-score="5">Increase exposure if long-term thesis is intact</div>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question q-box" data-qid="q9">
          <div class="q-title">How often do you check your portfolio?</div>
          <div class="options">
            <div class="option" data-score="1">Daily</div>
            <div class="option" data-score="2">Weekly</div>
            <div class="option" data-score="3">Monthly</div>
            <div class="option" data-score="4">Quarterly</div>
            <div class="option" data-score="5">Yearly / rarely</div>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question q-box" data-qid="q10">
          <div class="q-title">How would you describe your personality financially?</div>
          <div class="options">
            <div class="option" data-score="1">Very cautious</div>
            <div class="option" data-score="2">Cautious</div>
            <div class="option" data-score="3">Balanced</div>
            <div class="option" data-score="4">Opportunistic</div>
            <div class="option" data-score="5">High-risk taker</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 4 — LOSS BEHAVIOUR & REACTIONS ========== -->
      <div class="section-page" data-page="4">
        <h2 class="page-title">4. Loss Behaviour & Market Reactions</h2>
        <p class="page-sub">How you respond when others panic or markets move sharply.</p>

        <!-- Q11 -->
        <div class="question q-box" data-qid="q11">
          <div class="q-title">If markets fall 25%, what is most likely?</div>
          <div class="options">
            <div class="option" data-score="1">Stop SIP and withdraw investments</div>
            <div class="option" data-score="2">Pause and wait without investing more</div>
            <div class="option" data-score="3">Continue normally</div>
            <div class="option" data-score="4">Continue and invest more gradually</div>
            <div class="option" data-score="5">Invest aggressively to take advantage of lower prices</div>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question q-box" data-qid="q12">
          <div class="q-title">Have you ever panicked & exited an investment at a loss?</div>
          <div class="options">
            <div class="option" data-score="1">Yes, multiple times</div>
            <div class="option" data-score="2">Yes, once</div>
            <div class="option" data-score="3">Maybe / not sure</div>
            <div class="option" data-score="4">No, rarely</div>
            <div class="option" data-score="5">Never</div>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question" data-qid="q13">
          <div class="q-title">When seeing others gain more in markets, do you feel pressure to chase returns?</div>
          <div class="options">
            <div class="option" data-score="1">Very strongly</div>
            <div class="option" data-score="2">Somewhat</div>
            <div class="option" data-score="3">A little</div>
            <div class="option" data-score="4">Rarely</div>
            <div class="option" data-score="5">Not at all</div>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question q-box" data-qid="q14">
          <div class="q-title">If a new trending fund rises sharply, what do you do?</div>
          <div class="options">
            <div class="option" data-score="1">Want to switch immediately</div>
            <div class="option" data-score="2">Consider switching partially</div>
            <div class="option" data-score="3">Analyse but usually stay with plan</div>
            <div class="option" data-score="4">Continue my plan confidently</div>
            <div class="option" data-score="5">I prefer entering after corrections, not at peaks</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 5 — RISK CAPACITY (FINANCIAL ABILITY) ========== -->
      <div class="section-page" data-page="5">
        <h2 class="page-title">5. Risk Capacity & Financial Cushion</h2>
        <p class="page-sub">Your ability to handle risk based on income and buffers.</p>

        <!-- Q15 -->
        <div class="question q-box" data-qid="q15">
          <div class="q-title">How stable is your income?</div>
          <div class="options">
            <div class="option" data-score="1">Very unstable</div>
            <div class="option" data-score="2">Somewhat unstable</div>
            <div class="option" data-score="3">Moderately stable</div>
            <div class="option" data-score="4">Stable</div>
            <div class="option" data-score="5">Very stable and predictable</div>
          </div>
        </div>

        <!-- Q16 -->
        <div class="question q-box" data-qid="q16">
          <div class="q-title">Do you have emergency savings?</div>
          <div class="options">
            <div class="option" data-score="1">No savings</div>
            <div class="option" data-score="2">Less than 1 month of expenses</div>
            <div class="option" data-score="3">1–3 months of expenses</div>
            <div class="option" data-score="4">3–6 months of expenses</div>
            <div class="option" data-score="5">More than 6 months of expenses</div>
          </div>
        </div>

        <!-- Q17 -->
        <div class="question q-box" data-qid="q17">
          <div class="q-title">If you lose your income temporarily, how long can you continue SIP comfortably?</div>
          <div class="options">
            <div class="option" data-score="1">Less than 1 month</div>
            <div class="option" data-score="2">1–3 months</div>
            <div class="option" data-score="3">3–6 months</div>
            <div class="option" data-score="4">6–12 months</div>
            <div class="option" data-score="5">More than 12 months</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn">Back</button>
          <button class="btn btn-primary next-btn" style="display:none;">Next</button>
        </div>
      </div>

      <!-- ========== SECTION 6 — LIQUIDITY NEEDS & TIME HORIZON ========== -->
      <div class="page" data-page="6">
        <h2 class="page-title">6. Liquidity Needs & Time Horizon</h2>
        <p class="page-sub">How long you can stay invested and how urgently you need funds.</p>

        <!-- Q18 -->
        <div class="question q-box" data-qid="q18">
          <div class="q-title">How soon do you expect to need this invested money?</div>
          <div class="options">
            <div class="option" data-score="1">Within 1 year</div>
            <div class="option" data-score="2">1–3 years</div>
            <div class="option" data-score="3">3–5 years</div>
            <div class="option" data-score="4">5–10 years</div>
            <div class="option" data-score="5">More than 10 years</div>
          </div>
        </div>

        <!-- Q19 -->
        <div class="question q-box" data-qid="q19">
          <div class="q-title">If your goal maturity comes during a market crash, what will you do?</div>
          <div class="options">
            <div class="option" data-score="1">Withdraw everything immediately</div>
            <div class="option" data-score="2">Redeem gradually even if values are low</div>
            <div class="option" data-score="3">Decide based on advice at that time</div>
            <div class="option" data-score="4">Likely continue until markets recover</div>
            <div class="option" data-score="5">Definitely continue and withdraw when valuations improve</div>
          </div>
        </div>

        <!-- Q20 -->
        <div class="question q-box" data-qid="q20">
          <div class="q-title">How long are you comfortable staying invested to achieve your major goals?</div>
          <div class="options">
            <div class="option" data-score="1">Short-term (less than 3 years)</div>
            <div class="option" data-score="2">Medium term (3–5 years)</div>
            <div class="option" data-score="3">5–7 years</div>
            <div class="option" data-score="4">10+ years</div>
            <div class="option" data-score="5">As long as required for long-term wealth creation</div>
          </div>
        </div>

        <div class="nav-row">
          <button class="btn btn-ghost prev-btn">Back</button>
          <button class="btn btn-primary next-btn" id="finishBtn" style="display:none;">Finish</button>
        </div>
      </div>

      <!-- ========== SECTION 7 — SUMMARY & LEAD CAPTURE (updated) ========== -->
      <div class="page" data-page="7">
        <h1 class="page-title">Your Investor Profile</h1>
        <p class="page-sub">
          Based on your responses, here is a refined view of your investing personality. Submit your details and I'll translate this into a personalised mutual fund plan.
        </p>

        <!-- LEAD FORM (compact premium layout) -->
        <div class="summary-box">
          <form id="leadForm" class="lead-form" novalidate>
            <div class="field-group">
              <label for="leadName">Full Name*</label>
              <input type="text" id="leadName" placeholder="Your full name" required />
            </div>

            <div class="field-group">
              <label for="leadPhone">Mobile Number*</label>
              <input type="tel" id="leadPhone" placeholder="10-digit mobile number" required />
            </div>

            <div class="field-group">
              <label for="leadEmail">Email (optional)</label>
              <input type="email" id="leadEmail" placeholder="you@example.com" />
            </div>

            <div style="display:flex; gap:10px; align-items:center; margin-top:10px;">
              <button type="submit" class="btn primary" id="leadSubmitBtn">Share My Details</button>
              <button type="button" id="whatsBtn" class="btn-outline">Message on WhatsApp</button>
              <div id="leadStatus" class="lead-status" aria-live="polite"></div>
            </div>
          </form>

          <!-- PROFILE RESULT (hidden until form submitted) -->
          <div id="profileResult" class="result-card" aria-hidden="true">
            <div class="result-top">
              <div>
                <div class="badge-gold" id="profileBadge">Investor Profile</div>
                <h3 class="profile-head" id="profileLabel">—</h3>
                <div class="profile-tag" id="profileTagline"></div>
              </div>

              <div class="profile-score">
                <span class="num" id="profileScoreNum">0</span>
                <span class="lbl">Total score</span>
              </div>
            </div>

            <p id="profileDetail" class="small-muted"></p>

            <!-- Allocation visual -->
            <div style="margin-top:14px;">
              <div class="alloc-row">
                <div class="alloc-label">Equity</div>
                <div class="alloc-bar"><div id="equityFill" class="alloc-fill" style="width:0%"></div></div>
                <div style="width:48px; text-align:right; color:var(--muted); font-size:0.9rem;" id="equityPct">0%</div>
              </div>

              <div class="alloc-row">
                <div class="alloc-label">Debt / Hybrids</div>
                <div class="alloc-bar"><div id="debtFill" class="alloc-fill" style="width:0%"></div></div>
                <div style="width:48px; text-align:right; color:var(--muted); font-size:0.9rem;" id="debtPct">0%</div>
              </div>

              <div class="alloc-row">
                <div class="alloc-label">Cash / Liquid</div>
                <div class="alloc-bar"><div id="cashFill" class="alloc-fill" style="width:0%"></div></div>
                <div style="width:48px; text-align:right; color:var(--muted); font-size:0.9rem;" id="cashPct">0%</div>
              </div>
            </div>

            <div class="profile-actions">
              <button id="downloadBtn" class="btn-outline">Export as Summary</button>
              <button id="recalcBtn" class="btn-outline">Recalculate</button>
            </div>

            <div class="small-muted" style="margin-top:10px;">
              This is a high-level, behavioural profile — not a personalised investment recommendation. For an actual allocation plan, I'll reach out after reviewing your details.
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>



  
<script>
/* ===================================================
   CORE INTERACTIVE BEHAVIOUR (selection, nav, scoring)
   - Keeps 5-option scoring per question
   - Progress bar similar to readiness
   - Summary card preserved exactly (B3)
=================================================== */

const pages = document.querySelectorAll(".section-page");
const totalPages = pages.length;
let current = 1; // we start at page 1 (A2)
let rp = JSON.parse(localStorage.getItem("rp") || "{}");
let stored = parseInt(localStorage.getItem("rp_page") || "1", 10);
if (!isNaN(stored) && stored >=1 && stored <= totalPages) current = stored;

function showPage(n) {
  pages.forEach(p => p.classList.remove("active"));
  document.querySelector(`.section-page[data-page="${n}"]`).classList.add("active");
  current = n;
  localStorage.setItem("rp_page", n);
  updateProgressBar(n);
  updateNextVisibility();
  window.scrollTo({ top: 0, behavior: "instant" });
}

/* init render */
document.addEventListener("DOMContentLoaded", () => showPage(current));

/* Next Buttons */
document.querySelectorAll(".next-btn").forEach(btn => btn.addEventListener("click", () => {
  if (current < totalPages) showPage(current + 1);
}));

/* Back Buttons */
document.querySelectorAll(".prev-btn").forEach(btn => btn.addEventListener("click", () => {
  if (current > 1) showPage(current - 1);
}));

/* Option selection logic (5-option style) */
document.querySelectorAll(".question").forEach(q => {
  const qid = q.dataset.qid;
  const options = q.querySelectorAll(".option");

  // restore selection if present
  if (rp[qid]) {
    options.forEach(o => { if (Number(o.dataset.score) === Number(rp[qid])) o.classList.add("selected"); });
  }

  options.forEach(opt => {
    opt.addEventListener("click", () => {
      options.forEach(o => o.classList.remove("selected"));
      opt.classList.add("selected");
      rp[qid] = Number(opt.dataset.score);
      localStorage.setItem("rp", JSON.stringify(rp));
      updateNextVisibility();
    });
  });
});

/* Next visibility per section */
function updateNextVisibility() {
  const section = document.querySelector(`.section-page[data-page="${current}"]`);
  const questions = section.querySelectorAll(".question");
  let allAnswered = true;
  questions.forEach(q => { if (!rp[q.dataset.qid]) allAnswered = false; });

  const next = section.querySelector(".next-btn");
  if (next) next.style.display = allAnswered ? "inline-block" : "none";
}

/* Progress bar */
function updateProgressBar(n) {
  const total = totalPages;
  const pct = ((n - 1) / (total - 1)) * 100;
  document.getElementById("progressBarFill").style.width = pct + "%";
}

/* Finish button handler -> compute & reveal profile */
document.getElementById("finishBtn").addEventListener("click", () => {
  // ensure all questions answered
  const allQuestions = document.querySelectorAll(".question");
  for (const q of allQuestions) {
    if (!rp[q.dataset.qid]) {
      q.classList.add("attention");
      q.scrollIntoView({ behavior: "smooth", block: "center" });
      setTimeout(() => q.classList.remove("attention"), 1200);
      return;
    }
  }

  // compute score
  let totalScore = 0;
  const maxPossible = allQuestions.length * 5;
  allQuestions.forEach(q => { totalScore += Number(rp[q.dataset.qid] || 0); });

  // map to 0-100 (percentage of max)
  const pct = Math.round((totalScore / maxPossible) * 100);

  // determine profile tier (conservative/moderate/aggressive)
  let label = "Moderate";
  let tagline = "Balanced returns with controlled volatility";
  let equity = 50, debt = 35, cash = 15;

  if (pct <= 40) {
    label = "Conservative";
    tagline = "Capital preservation; low-volatility approach";
    equity = 20; debt = 55; cash = 25;
  } else if (pct <= 70) {
    label = "Moderate";
    tagline = "Balanced growth and stability";
    equity = 50; debt = 35; cash = 15;
  } else {
    label = "Aggressive";
    tagline = "Higher equity tilt for long-term wealth creation";
    equity = 75; debt = 20; cash = 5;
  }

  // Reveal existing summary card (kept identical)
  const profileResult = document.getElementById("profileResult");
  document.getElementById("profileLabel").textContent = label;
  document.getElementById("profileTagline").textContent = tagline;
  document.getElementById("profileScoreNum").textContent = totalScore;
  document.getElementById("profileDetail").textContent = `Score: ${pct}% — This is a behavioural score derived from your answers.`;

  // Allocation visuals
  document.getElementById("equityPct").textContent = equity + "%";
  document.getElementById("debtPct").textContent = debt + "%";
  document.getElementById("cashPct").textContent = cash + "%";

  // animate fills
  document.getElementById("equityFill").style.width = equity + "%";
  document.getElementById("debtFill").style.width = debt + "%";
  document.getElementById("cashFill").style.width = cash + "%";

  profileResult.classList.add("revealed");
  profileResult.setAttribute("aria-hidden", "false");
  // scroll into view
  profileResult.scrollIntoView({ behavior: "smooth", block: "center" });
});

/* Lead form: basic placeholder behaviour (keeps existing flow) */
document.getElementById("leadForm").addEventListener("submit", (ev) => {
  ev.preventDefault();
  const name = document.getElementById("leadName").value.trim();
  const phone = document.getElementById("leadPhone").value.trim();
  const status = document.getElementById("leadStatus");
  if (!name || !phone) { status.textContent = "Please provide name and mobile number."; status.className = "lead-status err"; return; }

  // Simple local success (replace with your Apps Script / endpoint)
  status.textContent = "Thanks — your details were recorded. I will contact you shortly.";
  status.className = "lead-status ok";
});

/* Recalculate button */
document.getElementById("recalcBtn").addEventListener("click", () => {
  // reset result card and storage, keep users' selections to allow tweak
  const profileResult = document.getElementById("profileResult");
  profileResult.classList.remove("revealed");
  profileResult.setAttribute("aria-hidden", "true");
  document.getElementById("equityFill").style.width = "0%";
  document.getElementById("debtFill").style.width = "0%";
  document.getElementById("cashFill").style.width = "0%";
  // go back to first page
  showPage(1);
});

/* Export summary (basic CSV/text fallback) */
document.getElementById("downloadBtn").addEventListener("click", () => {
  const profileLabel = document.getElementById("profileLabel").textContent;
  const score = document.getElementById("profileScoreNum").textContent;
  const equity = document.getElementById("equityPct").textContent;
  const debt = document.getElementById("debtPct").textContent;
  const cash = document.getElementById("cashPct").textContent;
  const txt = `Investor Profile Summary\nProfile: ${profileLabel}\nScore: ${score}\nAllocation -> Equity: ${equity}, Debt: ${debt}, Cash: ${cash}\nGenerated: ${new Date().toLocaleString()}`;
  const blob = new Blob([txt], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a"); a.href = url; a.download = "risk_profile_summary.txt"; a.click();
  URL.revokeObjectURL(url);
});
</script>

</body>
</html>
