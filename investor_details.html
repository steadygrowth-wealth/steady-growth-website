<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Share Your Details — Steady Growth</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />


  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: linear-gradient(180deg,#0b0e14 0%, #0d1116 60%);
      --card: rgba(6,10,28,0.96);
      --muted: #9ea7c5;
      --gold: #e3b769;
      --gold-light: #ffe6b9;
      --accent: #b8873a;
      --radius: 14px;
    }

    html,body{
      height:100%; margin:0;
      font-family:"Poppins",sans-serif;
      background:var(--bg);
      color:#fff;
      -webkit-font-smoothing:antialiased;
    }

    .wrap{
      max-width:820px;
      margin:48px auto;
      padding:18px;
    }

    .card{
      background:var(--card);
      border-radius:16px;
      padding:22px;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow:0 18px 36px rgba(0,0,0,0.6);
    }

    h1{
      font-family:"Playfair Display",serif;
      color:var(--gold-light);
      margin:0 0 6px;
      font-size:1.8rem;
    }

    p.lead{
      color:var(--muted);
      margin:0 0 18px;
      line-height:1.6;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }

    .field { display:flex; flex-direction:column; gap:8px; margin-bottom:12px }
    label  { color:var(--muted); font-size:0.92rem }

    input[type="text"], input[type="tel"], input[type="email"], textarea {
      padding:10px 12px;
      border-radius:10px;
      background: rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.04);
      color:#fff;
      outline:none;
      font-size:0.95rem;
    }

    textarea { min-height:110px; resize:vertical }

    /* GitHub-safe dropdown with arrow */
    select {
      padding: 10px 40px 10px 12px;
      border-radius: 10px;
      background: rgba(255,255,255,0.04);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.10);
      font-size: 0.95rem;
      appearance: none;
      outline: none;
      cursor: pointer;

      background-image: url("data:image/svg+xml,%3Csvg fill='%23e3b769' height='20' width='20' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 18px;
    }

    select option{ background:#0f131a; color:#fff; }
    select option[disabled] { color:#6d748a!important; }

    select:focus{
      border-color:var(--gold-light);
      box-shadow:0 0 0 2px rgba(227,183,105,0.25);
    }

    .btn{
      padding:10px 18px;
      border-radius:999px;
      font-weight:700;
      cursor:pointer;
      border:none;
    }

    .btn-primary{
      background: linear-gradient(90deg,var(--gold-light),var(--gold));
      color:#24180b;
    }

    .btn-ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.06);
      padding:9px 14px;
    }

    .small { font-size:0.86rem; color:var(--muted) }
    .note  { font-size:0.88rem; color:var(--muted); margin-top:10px }
    .status { margin-top:12px; font-size:0.95rem }
    .status.ok  { color:#4caf50 }
    .status.err { color:#ff6b6b }
    .hp { display:none; position:absolute; left:-9999px; }

    @media(max-width:720px){
      .grid{ grid-template-columns:1fr }
      h1{ font-size:1.5rem }
      .wrap{ margin:20px 12px }
    }
  </style>
</head>

<body>

  <div class="wrap">
    <div class="card">

      <h1>Share Your Details</h1>
      <p class="lead">
        Leave your contact details and a short note — we will review your risk profile  
        and suggest a personalised plan. We respect your privacy and will not share your details.
      </p>

      <form id="leadCollector" novalidate>

        <div class="grid">

          <div class="field">
            <label for="name">Full name *</label>
            <input id="name" name="name" type="text" placeholder="FirstName LastName" required />
          </div>

          <div class="field">
            <label for="mobile">Mobile number *</label>
            <input id="mobile" name="mobile" type="tel" placeholder="10-digit mobile" pattern="[0-9]{10}" required />
          </div>

          <div class="field">
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required />
          </div>

          <div class="field">
            <label for="pref">Preferred channel *</label>
            <select id="pref" name="pref" required>
              <option value="" disabled selected>Select a channel</option>
              <option value="whatsapp">WhatsApp</option>
              <option value="call">Call</option>
              <option value="email">Email</option>
            </select>
          </div>

          <div class="field">
            <label for="timepref">Preferred time to connect *</label>
            <select id="timepref" name="timepref" required>
              <option value="" disabled selected>Select a time</option>
              <option value="9am-12noon">9 AM – 12 Noon</option>
              <option value="12noon-3pm">12 Noon – 3 PM</option>
              <option value="3pm-6pm">3 PM – 6 PM</option>
              <option value="6pm-9pm">6 PM – 9 PM</option>
            </select>
          </div>

        </div>

        <div class="field">
          <label for="message">Message (optional)</label>
          <textarea id="message" name="message" placeholder="Any context we should know (goals, monthly SIP, timelines)"></textarea>
        </div>

        <!-- Honeypot -->
        <div class="hp">
          <input id="hp_field" name="hp_field" type="text" />
        </div>

        <input type="hidden" name="formType" value="visitor_details">

        <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top:6px">
          <button type="submit" id="submitBtn" class="btn btn-primary">Send my details</button>
          <!-- <button type="button" id="whatsappBtn" class="btn btn-ghost">Message on WhatsApp</button> -->
          <div id="status" class="status" aria-live="polite"></div>
        </div>

        <div class="note">
          By submitting, you consent to being contacted regarding investment services.  
          We never share your data with anyone without your consent.
        </div>
      </form>

      <div style="margin-top:18px; display:flex; gap:12px; justify-content:flex-end">
        <!-- <a class="small" href="risk_profile.html">Back to Risk Assessment</a> -->
        <a class="small" href="index.html">Back to Website</a>
      </div>

    </div>
  </div>


  <script>
const form      = document.getElementById("leadCollector");
const statusEl  = document.getElementById("status");
const btn       = document.getElementById("submitBtn");

// Input fields
const nameEl     = document.getElementById("name");
const mobileEl   = document.getElementById("mobile");
const emailEl    = document.getElementById("email");
const prefEl     = document.getElementById("pref");
const timeprefEl = document.getElementById("timepref");

// ----- Helper: Create validation message UI under each field -----
function createMsgEl(inputEl) {
  const div = document.createElement("div");
  div.style.fontSize = "0.85rem";
  div.style.marginTop = "-6px";
  div.style.marginBottom = "6px";
  div.style.height = "18px";
  div.style.color = "#ff6b6b"; // default red
  inputEl.parentNode.appendChild(div);
  return div;
}

// Create UI areas
const nameMsg     = createMsgEl(nameEl);
const mobileMsg   = createMsgEl(mobileEl);
const emailMsg    = createMsgEl(emailEl);
const prefMsg     = createMsgEl(prefEl);
const timeprefMsg = createMsgEl(timeprefEl);

// ----- VALIDATORS -----

// A. Name validator (letters + spaces, min 2 chars)
function validateName(name) {
  const clean = name.trim();
  if (!/^[A-Za-z ]+$/.test(clean)) return null;
  if (clean.length < 2) return null;
  return clean;
}

// B. Strong Indian Mobile Validator
function validateMobile(m){
  // Remove all non-digit characters
  let only = (m || "").replace(/\D/g, "");

  // Remove leading zeros (but keep digits after that)
  while (only.startsWith("0")) {
    only = only.substring(1);
  }

  // Now the number must be exactly 10 digits
  if (only.length !== 10) return null;

  // Must start with 6,7,8,9 (Indian mobile rule)
  if (!/^[6-9]/.test(only)) return null;

  // Block repeating digits like 0000000000, 9999999999, etc.
  if (/^(.)\1{9}$/.test(only)) return null;

  return only;
}


// C. Email validator
function validateEmail(mail) {
  const clean = mail.trim();
  const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(clean);
  return ok ? clean : null;
}

// D. Preferred channel validator
function validatePref(p) {
  return p !== "" ? p : null;
}

// E. Preferred time validator
function validateTimePref(t) {
  return t !== "" ? t : null;
}

// ----- LIVE VALIDATION -----
function updateSubmitState() {
  const allValid =
    validateName(nameEl.value) &&
    validateMobile(mobileEl.value) &&
    validateEmail(emailEl.value) &&
    validatePref(prefEl.value) &&
    validateTimePref(timeprefEl.value);

  btn.disabled = !allValid;
}

// NAME Live Validation
nameEl.addEventListener("input", () => {
  const v = validateName(nameEl.value);
  if (v) {
    nameMsg.textContent = "✓ Looks good";
    nameMsg.style.color = "#4caf50";
  } else {
    nameMsg.textContent = "✗ Enter a valid name (letters & spaces)";
    nameMsg.style.color = "#ff6b6b";
  }
  updateSubmitState();
});

// MOBILE Live Validation
mobileEl.addEventListener("input", () => {
  const v = validateMobile(mobileEl.value);
  if (v) {
    mobileMsg.textContent = "✓ Valid mobile number";
    mobileMsg.style.color = "#4caf50";
  } else {
    mobileMsg.textContent = "✗ Must be a 10-digit Indian mobile number";
    mobileMsg.style.color = "#ff6b6b";
  }
  updateSubmitState();
});

// EMAIL Live Validation
emailEl.addEventListener("input", () => {
  const v = validateEmail(emailEl.value);
  if (v) {
    emailMsg.textContent = "✓ Valid email";
    emailMsg.style.color = "#4caf50";
  } else {
    emailMsg.textContent = "✗ Enter a valid email address";
    emailMsg.style.color = "#ff6b6b";
  }
  updateSubmitState();
});

// PREF Live Validation
prefEl.addEventListener("change", () => {
  const v = validatePref(prefEl.value);
  if (v) {
    prefMsg.textContent = "✓ Selected";
    prefMsg.style.color = "#4caf50";
  } else {
    prefMsg.textContent = "✗ Please choose a channel";
    prefMsg.style.color = "#ff6b6b";
  }
  updateSubmitState();
});

// TIME PREF Live Validation
timeprefEl.addEventListener("change", () => {
  const v = validateTimePref(timeprefEl.value);
  if (v) {
    timeprefMsg.textContent = "✓ Selected";
    timeprefMsg.style.color = "#4caf50";
  } else {
    timeprefMsg.textContent = "✗ Please choose a time";
    timeprefMsg.style.color = "#ff6b6b";
  }
  updateSubmitState();
});

// Initially disable submit button
btn.disabled = true;

// ----- FORM SUBMIT -----
form.addEventListener("submit", (ev) => {
  ev.preventDefault();
  statusEl.textContent = "";
  statusEl.className = "status";

  btn.disabled = true;
  btn.textContent = "Sending...";

  const fd = new FormData();
  fd.append("formType", "visitor_details");
  fd.append("name", validateName(nameEl.value));
  fd.append("mobile", validateMobile(mobileEl.value));
  fd.append("email", validateEmail(emailEl.value));
  fd.append("pref", prefEl.value);
  fd.append("timepref", timeprefEl.value);
  fd.append("message", document.getElementById("message").value.trim());

  const GSHEET_ENDPOINT = "https://script.google.com/macros/s/AKfycbzfPKyf6reazDCBL8Ql8wqU73KerPyi7cjdHI1BKXULBERuG1MAElH058KPEmAvOIu87g/exec";

  fetch(GSHEET_ENDPOINT, {
    method: "POST",
    body: fd
  })
  .then(r => r.json())
  .then(res => {
    if (res.ok) {
      statusEl.textContent = "Submitted! We will contact you shortly.";
      statusEl.classList.add("ok");

      btn.textContent = "Submitted!";
      btn.disabled = true;

      form.reset();
      nameMsg.textContent = "";
      mobileMsg.textContent = "";
      emailMsg.textContent = "";
      prefMsg.textContent = "";
      timeprefMsg.textContent = "";
    } else {
      statusEl.textContent = "Submission failed. Try again.";
      statusEl.classList.add("err");

      btn.disabled = false;
      btn.textContent = "Send my details";
    }
  })
  .catch(err => {
    console.error(err);
    statusEl.textContent = "Network error. Try again.";
    statusEl.classList.add("err");

    btn.disabled = false;
    btn.textContent = "Send my details";
  });
});
</script>




</body>
</html>
